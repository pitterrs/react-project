{"ast":null,"code":"import { useRef } from \"react\";\nexport default function useDebouncedPromise(fn, delay) {\n  let timeoutRef = useRef(null);\n\n  function handler(...params) {\n    return new Promise((resolve, reject) => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n\n      timeoutRef.current = window.setTimeout(async () => {\n        try {\n          const response = await fn(...params);\n          resolve(response);\n        } catch (e) {\n          reject(e);\n        }\n      }, delay);\n    });\n  }\n\n  return handler;\n}","map":{"version":3,"sources":["C:/Users/okx7fcq/sfut/src/components/Utils/useDebouncedPromise.js"],"names":["useRef","useDebouncedPromise","fn","delay","timeoutRef","handler","params","Promise","resolve","reject","current","clearTimeout","window","setTimeout","response","e"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AAEA,eAAe,SAASC,mBAAT,CAA6BC,EAA7B,EAAiCC,KAAjC,EAAwC;AACrD,MAAIC,UAAU,GAAGJ,MAAM,CAAC,IAAD,CAAvB;;AAEA,WAASK,OAAT,CAAiB,GAAGC,MAApB,EAA4B;AAC1B,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAIL,UAAU,CAACM,OAAf,EAAwB;AACtBC,QAAAA,YAAY,CAACP,UAAU,CAACM,OAAZ,CAAZ;AACD;;AACDN,MAAAA,UAAU,CAACM,OAAX,GAAqBE,MAAM,CAACC,UAAP,CAAkB,YAAY;AACjD,YAAI;AACF,gBAAMC,QAAQ,GAAG,MAAMZ,EAAE,CAAC,GAAGI,MAAJ,CAAzB;AACAE,UAAAA,OAAO,CAACM,QAAD,CAAP;AACD,SAHD,CAGE,OAAOC,CAAP,EAAU;AACVN,UAAAA,MAAM,CAACM,CAAD,CAAN;AACD;AACF,OAPoB,EAOlBZ,KAPkB,CAArB;AAQD,KAZM,CAAP;AAaD;;AACD,SAAOE,OAAP;AACD","sourcesContent":["import { useRef } from \"react\";\r\n\r\nexport default function useDebouncedPromise(fn, delay) {\r\n  let timeoutRef = useRef(null);\r\n\r\n  function handler(...params) {\r\n    return new Promise((resolve, reject) => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n      timeoutRef.current = window.setTimeout(async () => {\r\n        try {\r\n          const response = await fn(...params);\r\n          resolve(response);\r\n        } catch (e) {\r\n          reject(e);\r\n        }\r\n      }, delay);\r\n    });\r\n  }\r\n  return handler;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}