{"ast":null,"code":"import { useState } from \"react\";\nimport axios from \"axios\";\nimport useDebouncedPromise from \"./useDebouncedPromise\";\nconst initialRequestInfo = {\n  data: null\n};\nexport default function useApi(config) {\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\n  const debouncedAxios = useDebouncedPromise(axios, config.debounceDelay);\n\n  async function call() {\n    setRequestInfo({ ...initialRequestInfo\n    });\n    const finalConfig = {\n      baseURL: \"http://612f96dd5fc50700175f1693.mockapi.io\",\n      ...config\n    };\n    const fn = finalConfig.debounceDelay ? debouncedAxios : axios;\n    const response = await fn(finalConfig);\n    setRequestInfo({ ...initialRequestInfo,\n      data: response.data\n    });\n\n    if (config.onCompleted) {\n      config.onCompleted(response);\n    }\n\n    return response;\n  }\n\n  return [call, requestInfo];\n}","map":{"version":3,"sources":["C:/Users/okx7fcq/sfut/src/components/Utils/useApi.js"],"names":["useState","axios","useDebouncedPromise","initialRequestInfo","data","useApi","config","requestInfo","setRequestInfo","debouncedAxios","debounceDelay","call","finalConfig","baseURL","fn","response","onCompleted"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AAEA,MAAMC,kBAAkB,GAAG;AACzBC,EAAAA,IAAI,EAAE;AADmB,CAA3B;AAIA,eAAe,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACrC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAACG,kBAAD,CAA9C;AACA,QAAMM,cAAc,GAAGP,mBAAmB,CAACD,KAAD,EAAQK,MAAM,CAACI,aAAf,CAA1C;;AAEA,iBAAeC,IAAf,GAAsB;AACpBH,IAAAA,cAAc,CAAC,EACb,GAAGL;AADU,KAAD,CAAd;AAGA,UAAMS,WAAW,GAAG;AAClBC,MAAAA,OAAO,EAAE,4CADS;AAElB,SAAGP;AAFe,KAApB;AAIA,UAAMQ,EAAE,GAAGF,WAAW,CAACF,aAAZ,GAA4BD,cAA5B,GAA6CR,KAAxD;AACA,UAAMc,QAAQ,GAAG,MAAMD,EAAE,CAACF,WAAD,CAAzB;AAEAJ,IAAAA,cAAc,CAAC,EACb,GAAGL,kBADU;AAEbC,MAAAA,IAAI,EAAEW,QAAQ,CAACX;AAFF,KAAD,CAAd;;AAKA,QAAIE,MAAM,CAACU,WAAX,EAAwB;AACtBV,MAAAA,MAAM,CAACU,WAAP,CAAmBD,QAAnB;AACD;;AACD,WAAOA,QAAP;AACD;;AAED,SAAO,CAACJ,IAAD,EAAOJ,WAAP,CAAP;AACD","sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport useDebouncedPromise from \"./useDebouncedPromise\";\r\n\r\nconst initialRequestInfo = {\r\n  data: null,\r\n};\r\n\r\nexport default function useApi(config) {\r\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\r\n  const debouncedAxios = useDebouncedPromise(axios, config.debounceDelay);\r\n\r\n  async function call() {\r\n    setRequestInfo({\r\n      ...initialRequestInfo,\r\n    });\r\n    const finalConfig = {\r\n      baseURL: \"http://612f96dd5fc50700175f1693.mockapi.io\",\r\n      ...config,\r\n    };\r\n    const fn = finalConfig.debounceDelay ? debouncedAxios : axios;\r\n    const response = await fn(finalConfig);\r\n\r\n    setRequestInfo({\r\n      ...initialRequestInfo,\r\n      data: response.data,\r\n    });\r\n\r\n    if (config.onCompleted) {\r\n      config.onCompleted(response);\r\n    }\r\n    return response;\r\n  }\r\n\r\n  return [call, requestInfo];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}