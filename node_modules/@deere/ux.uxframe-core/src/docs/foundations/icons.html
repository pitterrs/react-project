<!DOCTYPE html>
<html lang="en">

<head>
    <title>
        Icons | User eXperience
    </title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <!-- script tags at the bottom of page -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="../../img/black-favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../img/black-favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../img/black-favicon/favicon-16x16.png">
</head>

<body class="uxf-sticky-footer">

    ${require('html-loader?interpolate!../../partials/header.html')}
    <main class="container-fluid">
        <div class="row flex-xl-nowrap">
            ${require('html-loader?interpolate!../../partials/sidebar.html')}
            <div class="main-content col-24 col-md-18 uxf-foundations" id="content">
                <h2>Icons</h2>
                <div class="icon-container">
                    <% for(var i=0; i < htmlWebpackPlugin.options.iconData.length; i++) { %>
                        <div class="uxf-icon-example">
                            <div id="example<%= i %>-disp" class="uxf-icon-card">
                                <%= htmlWebpackPlugin.options.iconData[i].code %>
                            </div>
                            <pre>
                        <code id="example<%= i %>-code">
                            </code>
                </pre>
                            <h5 class="uxf-icon-example-heading">
                                <%= htmlWebpackPlugin.options.iconData[i].name %>
                            </h5>
                            <small class="uxf-icon-example-tags">
                                tags:
                                <% for(var d=0; d < htmlWebpackPlugin.options.iconData[i].tags.length; d++) { %>
                                    <span class="badge badge-primary">
                                        <%= htmlWebpackPlugin.options.iconData[i].tags[d] %>
                                    </span>
                                    <% } %>
                            </small>
                            <div class="uxf-icon-example-actions">
                                <button class="btn btn-sm btn-secondary copy-svg" data-clipboard-target="#example<%= i %>-code" data-placement="bottom" title="Copy to clipboard">Copy Code</button>
                                <a class="btn btn-sm btn-outline-primary" href="../../icons/<%= htmlWebpackPlugin.options.iconData[i].name %>.svg" download>Download</a>
                            </div>
                        </div>
                        <% } %>
                </div>
            </div>
        </div>
    </main>

    ${require('html-loader?interpolate!../../partials/footer.html')}

</body>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>

    var disp_areas = document.querySelectorAll(".uxf-icon-card");
    for (var i = 0; i < disp_areas.length; i++) {
        var id = disp_areas[i].id;
        var content = escapeHtml(disp_areas[i].innerHTML).split('\n').slice(1);

        var space_amnt = content[0].search(/\S/);

        for (var x = 0; x < content.length; x++) {
            content[x] = content[x].slice(space_amnt);

        }

        var code_id = id.split('-')[0].concat('-code');
        var code_element = document.getElementById(code_id);
        if (code_element) {
            code_element.innerHTML = content
                .slice(0, content.length - 1).join('\n');
        }
    }

    function escapeHtml(unsafe) {
        return unsafe
            .replace(/<script>2018 Deere/, "<script> Deere") //This is to remove the double printing of 2018 in the footer copyright code
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;");
        //.replace(/\//g, "&#x2F;")
        //.replace(/`/g, "&#x60;")
        //.replace(/=/g, "&#x3D;");
    }

    function unescapeHtml(safe) {
        return safe
            .replace(/&amp;/g, "&")
            .replace(/&lt;/g, "<")
            .replace(/&gt;/g, ">")
            .replace(/&quot;/g, "\"")
            .replace(/&#039;/g, "'")
            .replace(/&#x2F;/g, "/")
            .replace(/&#x60;/g, "`")
            .replace(/&#x3D;/g, "=");
    }
</script>

</html>